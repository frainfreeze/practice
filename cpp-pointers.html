<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Pointers</title>

    <!--Load CSS-->
    <link rel="stylesheet" type="text/css" href="./src/main.css" media="all">
    <link rel="stylesheet" type="text/css" href="./src/prettify.css" media="all">

    <!--Load Javascript-->
    <script src="https://cdn.rawgit.com/Some-Side-Projects/trash/master/faq.js"></script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>

    <script type="text/javascript">
        function toggle_expando(elem) { 
            var examples = $(elem).siblings(".rule-examples"); 
            var toggle = $(elem).find(".toggle"); 
            if (examples.is(":visible")) { 
                toggle.text("[+]"); 
                examples.slideUp(); 
            } else {
                 toggle.text("[\u2013]"); 
                 examples.slideDown(); 
            } 
        }
    </script>
</head>

<body onload="PR.prettyPrint()">
<div class="rulespage">
    <!--Title-->
    <h1>pointers and references practice</h1>

    <!--text under title-->
    <p class="info">This page contains set of challenges that you can go through to test your understanding on the topic. It aditionally contains links to resources and or explanations on the topic.</p>
    <p class="info"><b>This page was last updated on 25-2-2018</b></p>
    <p class="info">You can find its source on <a href="https://github.com/frainfreeze/studying/tree/master/practice">github.</a></p>

    <!-- section -->
    <ol class="rule-list">
        <li id="tutorial" class="first-rule">
            <div class="examples">
                <p><b>Pointer</b> is a variable that can contain a memory address.</p>
                <br>
                <p>Recommended reading: The C Programming Language", 2nd edition, Kernighan and Ritchie; Chapter 5</p>
                <br>
                <p>
                    Useful links: <a href="http://en.cppreference.com/book/pointers" target="_blank" >cppreference.com</a>, 
                    <a href="http://www.cplusplus.com/doc/tutorial/pointers/" target="_blank" >cplusplus.com</a>, 
                    <a href="http://cslibrary.stanford.edu/106/" target="_blank" >Stanford 106</a>, 
                    <a href="https://gist.github.com/ericandrewlewis/720c374c29bbafadedc9" target="_blank" >random pointer tutorial</a>, 
                    <a href="http://pweb.netcom.com/~tjensen/ptr/pointers.htm" target="_blank" >and more pointers</a>.
                </p>
                <br>
                <p class="expander" onclick="return toggle_expando(this);"><em class="toggle">[+]</em>&nbsp;Show example code</p>
                <div class="rule-examples" style="display: none;">
<pre  class="prettyprint">
<code class="language-cpp">
    string* ptrToElement(vector<string>* const pVec, int i){
        //returns address of the string in position
        // i of vector that pVec points to
        return &((*pVec)[i]);
    }
    // declaring some varibles
    int zz = 1;
    int zz2 = 343;
    string szz;

    //declare a pointer
    int* pAPointer;

    //declare and initialize a pointer
    string * pTestpointer = nullptr;

    // assign address of variable/object to the pointer
    pAPointer = &zz;
    pTestpointer = &szz;

    // reassign pointer to new pointee
    pAPointer = &zz2;

    // modify object pointer points too (pointee) by deferencing
    *pTestpointer = "test string\n";

    // print pointer address then object it references
    cout << pAPointer << " | " << *pAPointer << endl;
    cout << pTestpointer << " | " << *pTestpointer;

    /* constant pointers can only point to objects
    they were initialized to point to. like all constants
    they have to be initialized on declaration */
    int* const pConstatnPointer = &zz;

    // pointers to a constant cant be used to change
    // value they point to.
    const int* pZz;

    /* constant pointer to a constant combines the
    restrictions of a constant pointer and a pointer
    to a constant. This means that a constant pointer
    to a constant can only point to the object that it
    was initialized to point to. In addition, it can’t
    be used to change the value of the object to which
    it points*/
    const int* const pCPC = &zz2;

    // when passing pointers to function
    // we have to use address of object
    pointerExample(&zz);

    // ...which is same as using pointer
    pointerExample(pCPC);

    // returning pointers
    vector<string> tempVec(10,"spam");
    cout << *( ptrToElement(&tempVec, 3) ) << endl;

    // Assigning a Returned Pointer to a Pointer
    string* pMagic = ptrToElement(&tempVec, 3);
    *pMagic = "magic";
    cout << tempVec[3] << endl;

    // an array name is a constant pointer to
    // the first element of the array
    string tempArray[3] = {"foo", "bar", "spam"};
    *tempArray="hehexd";
    cout << tempArray[0] << endl;
</code></pre>

                </div>

                <br><br>
                <p><b>A reference</b> is a simple reference datatype that is less powerful but safer than the pointer type inherited from C.</p>
                <br>
                <p>
                    Useful links: <a href="http://en.cppreference.com/book/intro/reference" target="_blank" >cppreference.com</a>,
                    <a href="https://isocpp.org/wiki/faq/references" target="_blank" >isocpp.org</a>.
                </p>
                <p class="expander" onclick="return toggle_expando(this);"><em class="toggle">[+]</em>&nbsp;Show example code</p>
                <div class="rule-examples" style="display: none;">
<pre  class="prettyprint">
<code class="language-cpp">
    string& ref2element(vector<string>& barVec, int i){
            return barVec[i]; // returns reference
        }

    void swapNums(int& a, int& b){
        int temp = a;
        a = b;
        b = temp;
    }

    int intD = 10;

    // if we want to prevent reference modifying we use const
    const int& rIntD = intD;

    cout << rIntD << endl;

    int intE = 2; int intF = 3;
    swapNums(intE, intF);
    cout << intE << " " << intF << endl; // 3 2

    // small example of reference to reference
    vector<string> barVec;
    barVec.push_back("foo");
    barVec.push_back("bar");

    // assignees returned reference to reference
    string& rStr = ref2element(barVec,1);
    cout << rStr << endl; // bar
    rStr = "spaz"; // rStr == barVec[1]
    cout << barVec[1] << endl; // spaz
</code></pre>

            </div>

            <br><br>
            <!--challenges-->
            <div class="examples">
                <p>1. What does following code output?</p>
<pre  class="prettyprint">
<code class="language-cpp">
void coutA(int*a){
    cout << a << " | " << *a << " | in pointer func" << endl;
}
void coutA(int&a){
    cout << &a << " | " << a << " | in reference func" << endl;
}
                    
int main() {
    int a = 42;
    int *pA = &a;
    int **pA2 = &pA;

    coutA(a);
    coutA(&a);
    coutA(pA);
    coutA(*pA);
    coutA(*pA2);
    coutA(**pA2);

    cout << endl;
    cout << &a << endl;
    cout << &pA << endl;
    cout << &pA2 << endl;
</code>
</pre>


                <p class="expander" onclick="return toggle_expando(this);"><em class="toggle">[+]</em>&nbsp;Show solution</p>
                <div class="rule-examples" style="display: none;">
<pre>
                        0x28ff28 | 42            | in reference func
                        0x28ff10 | 0x28ff28 | 42 | in pointer func
                        0x28ff10 | 0x28ff28 | 42 | in pointer func
                        0x28ff28 | 42            | in reference func
                        0x28ff10 | 0x28ff28 | 42 | in pointer func
                        0x28ff28 | 42            | in reference func
                                                        
                        42
                        0x28ff28
                        0x28ff28
                        0x28ff24
                        0x28ff20
</pre>

                </div>
            </div>
            <!-- end challenges -->
        </li>
    </ol>
    <!-- end section-->
    <p>© 2018 Tomislav (fraifnreeze) Kucar.</p><br><br>
</div>
</body>

<!-- separator line <li id="goodboy">-->
</html>